!function(a){var b=function(f,c,g){var d=0,e=c.length;for(;d<e;d++){f=f[c[d]]=f[c[d]]||d==(e-1)?g:{}}};a.fn.toggleButtons=function(e){var d,c,g=0.05,f={init:function(h){this.each(function(){var i,j,n,m,l={};d=a(this);d.addClass("toggle-button");a.each(d.data(),function(p,o){var q,r={};if(p.indexOf("togglebutton")===0){q=p.match(/[A-Z][a-z]+/g);q=a.map(q,function(s){return(s.toLowerCase())});b(r,q,o);l=a.extend(true,l,r)}});n=a.extend(true,{},a.fn.toggleButtons.defaults,h,l);a(this).data("options",n);i=a("<span></span>").addClass("labelLeft").text(n.label.enabled===undefined?"ON":n.label.enabled);j=a("<span></span>").addClass("labelRight").text(n.label.disabled===undefined?"OFF ":n.label.disabled);c=d.find("input:checkbox").wrap(a("<div></div>")).parent();c.append(i);c.append(a("<label></label>").attr("for",d.find("input").attr("id")));c.append(j);if(d.find("input").is(":checked")){d.find(">div").css("left","0")}else{d.find(">div").css("left","-50%")}if(n.animated){if(n.transitionspeed!==undefined){if(/^(\d*%$)/.test(n.transitionspeed)){g=0.05*parseInt(n.transitionspeed)/100}else{g=n.transitionspeed}}}else{g=0}a(this).data("transitionSpeed",g*1000);n.width/=2;d.css("width",n.width*2).find(">div").css("width",n.width*3).find(">span, >label").css("width",n.width);d.css("height",n.height).find("span, label").css("height",n.height).filter("span").css("line-height",n.height+"px");if(d.find("input").is(":disabled")){a(this).addClass("deactivate")}d.find("span").css(n.font);if(n.style.enabled===undefined){if(n.style.custom!==undefined&&n.style.custom.enabled!==undefined&&n.style.custom.enabled.background!==undefined){i.css("color",n.style.custom.enabled.color);if(n.style.custom.enabled.gradient===undefined){i.css("background",n.style.custom.enabled.background)}else{a.each(["-webkit-","-moz-","-o-",""],function(p,o){i.css("background-image",o+"linear-gradient(top, "+n.style.custom.enabled.background+","+n.style.custom.enabled.gradient+")")})}}}else{i.addClass(n.style.enabled)}if(n.style.disabled===undefined){if(n.style.custom!==undefined&&n.style.custom.disabled!==undefined&&n.style.custom.disabled.background!==undefined){j.css("color",n.style.custom.disabled.color);if(n.style.custom.disabled.gradient===undefined){j.css("background",n.style.custom.disabled.background)}else{a.each(["-webkit-","-moz-","-o-",""],function(p,o){j.css("background-image",o+"linear-gradient(top, "+n.style.custom.disabled.background+","+n.style.custom.disabled.gradient+")")})}}}else{j.addClass(n.style.disabled)}var k=function(o){o.siblings("label").trigger("mousedown").trigger("mouseup").trigger("click")};i.on("click",function(o){k(a(this))});j.on("click",function(o){k(a(this))});d.find("input").on("change",function(r,s){var o=a(this).parent(),q=a(this).is(":checked"),p=a(this).closest(".toggle-button");o.stop().animate({left:q?"0":"-50%"},p.data("transitionSpeed"));n=p.data("options");if(!s){n.onChange(o,q,r)}});d.find("label").on("mousedown touchstart",function(o){m=false;o.preventDefault();o.stopImmediatePropagation();if(a(this).closest(".toggle-button").is(".deactivate")){a(this).off("click")}else{a(this).on("mousemove touchmove",function(q){var p=a(this).closest(".toggle-button"),s=(q.pageX||q.originalEvent.targetTouches[0].pageX)-p.offset().left,r=((s/(n.width*2))*100);m=true;q.stopImmediatePropagation();q.preventDefault();if(r<25){r=25}else{if(r>75){r=75}}p.find(">div").css("left",(r-75)+"%")});a(this).on("click touchend",function(r){var q=a(r.target),p=q.siblings("input");r.stopImmediatePropagation();r.preventDefault();a(this).off("mouseleave");if(m){if(parseInt(a(this).parent().css("left"))<-25){p.attr("checked",false)}else{p.attr("checked",true)}}else{p.attr("checked",!p.is(":checked"))}p.trigger("change")});a(this).on("mouseleave",function(q){var p=a(this).siblings("input");q.preventDefault();q.stopImmediatePropagation();a(this).off("mouseleave");a(this).trigger("mouseup");if(parseInt(a(this).parent().css("left"))<-25){p.attr("checked",false)}else{p.attr("checked",true)}p.trigger("change")});a(this).on("mouseup",function(p){p.stopImmediatePropagation();p.preventDefault();a(this).off("mousemove")})}})});return this},toggleActivation:function(){a(this).toggleClass("deactivate")},toggleState:function(i){var h=a(this).find("input");h.attr("checked",!h.is(":checked")).trigger("change",i)},setState:function(i,h){a(this).find("input").attr("checked",i).trigger("change",h)},status:function(){return a(this).find("input:checkbox").is(":checked")},destroy:function(){var i=a(this).find("div"),h;i.find(":not(input:checkbox)").remove();h=i.children();h.unwrap().unwrap();h.unbind("change");return h}};if(f[e]){return f[e].apply(this,Array.prototype.slice.call(arguments,1))}else{if(typeof e==="object"||!e){return f.init.apply(this,arguments)}else{a.error("Method "+e+" does not exist!")}}};a.fn.toggleButtons.defaults={onChange:function(){},width:100,height:25,font:{},animated:true,transitionspeed:undefined,label:{enabled:undefined,disabled:undefined},style:{enabled:undefined,disabled:undefined,custom:{enabled:{background:undefined,gradient:undefined,color:"#FFFFFF"},disabled:{background:undefined,gradient:undefined,color:"#FFFFFF"}}}}}($);