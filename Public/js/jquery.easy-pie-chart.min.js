(function(){(function(a){a.easyPieChart=function(g,h){var c,d,e,f,i,j,k,b=this;this.el=g;this.$el=a(g);this.$el.data("easyPieChart",this);this.init=function(){var l;b.options=a.extend({},a.easyPieChart.defaultOptions,h);l=parseInt(b.$el.data("percent"),10);b.percentage=0;b.canvas=a("<canvas width='"+b.options.size+"' height='"+b.options.size+"'></canvas>").get(0);b.$el.append(b.canvas);if(typeof G_vmlCanvasManager!=="undefined"&&G_vmlCanvasManager!==null){G_vmlCanvasManager.initElement(b.canvas)}b.ctx=b.canvas.getContext("2d");if(window.devicePixelRatio>1.5){a(b.canvas).css({width:b.options.size,height:b.options.size});b.canvas.width*=2;b.canvas.height*=2;b.ctx.scale(2,2)}b.ctx.translate(b.options.size/2,b.options.size/2);b.$el.addClass("easyPieChart");b.$el.css({width:b.options.size,height:b.options.size,lineHeight:""+b.options.size+"px"});b.update(l);return b};this.update=function(l){if(b.options.animate===false){return e(l)}else{return d(b.percentage,l)}};j=function(){var n,l,m;b.ctx.fillStyle=b.options.scaleColor;b.ctx.lineWidth=1;m=[];for(n=l=0;l<=24;n=++l){m.push(c(n))}return m};c=function(l){var m;m=l%6===0?0:b.options.size*0.017;b.ctx.save();b.ctx.rotate(l*Math.PI/12);b.ctx.fillRect(b.options.size/2-m,0,-b.options.size*0.05+m,1);return b.ctx.restore()};k=function(){var l;l=b.options.size/2-b.options.lineWidth/2;if(b.options.scaleColor!==false){l-=b.options.size*0.08}b.ctx.beginPath();b.ctx.arc(0,0,l,0,Math.PI*2,true);b.ctx.closePath();b.ctx.strokeStyle=b.options.trackColor;b.ctx.lineWidth=b.options.lineWidth;return b.ctx.stroke()};i=function(){if(b.options.scaleColor!==false){j()}if(b.options.trackColor!==false){return k()}};e=function(m){var l;i();b.ctx.strokeStyle=a.isFunction(b.options.barColor)?b.options.barColor(m):b.options.barColor;b.ctx.lineCap=b.options.lineCap;b.ctx.lineWidth=b.options.lineWidth;l=b.options.size/2-b.options.lineWidth/2;if(b.options.scaleColor!==false){l-=b.options.size*0.08}b.ctx.save();b.ctx.rotate(-Math.PI/2);b.ctx.beginPath();b.ctx.arc(0,0,l,0,Math.PI*2*m/100,false);b.ctx.stroke();return b.ctx.restore()};d=function(n,p){var l,m,o;m=30;o=m*b.options.animate/1000;l=0;b.options.onStart.call(b);b.percentage=p;if(b.animation){clearInterval(b.animation);b.animation=false}return b.animation=setInterval(function(){b.ctx.clearRect(-b.options.size/2,-b.options.size/2,b.options.size,b.options.size);i.call(b);e.call(b,[f(l,n,p-n,o)]);l++;if((l/o)>1){clearInterval(b.animation);b.animation=false;return b.options.onStop.call(b)}},1000/m)};f=function(q,l,m,n){var o,p;o=function(r){return Math.pow(r,2)};p=function(r){if(r<1){return o(r)}else{return 2-o((r/2)*-2+2)}};q/=n/2;return m/2*p(q)+l};return this.init()};a.easyPieChart.defaultOptions={barColor:"#ef1e25",trackColor:"#f2f2f2",scaleColor:"#dfe0e0",lineCap:"round",size:110,lineWidth:3,animate:false,onStart:a.noop,onStop:a.noop};a.fn.easyPieChart=function(b){return a.each(this,function(e,d){var c;c=a(d);if(!c.data("easyPieChart")){return c.data("easyPieChart",new a.easyPieChart(d,b))}})};return void 0})(jQuery)}).call(this);