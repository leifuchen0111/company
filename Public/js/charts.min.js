var Charts=function(){return{init:function(){App.addResponsiveHandler(function(){Charts.initPieCharts()})},initCharts:function(){if(!jQuery.plot){return}var f=[];var h=250;function g(){if(f.length>0){f=f.slice(1)}while(f.length<h){var k=f.length>0?f[f.length-1]:50;var m=k+Math.random()*10-5;if(m<0){m=0}if(m>100){m=100}f.push(m)}var l=[];for(var j=0;j<f.length;++j){l.push([j,f[j]])}return l}function a(){var j=[];for(var m=0;m<Math.PI*2;m+=0.25){j.push([m,Math.sin(m)])}var k=[];for(var m=0;m<Math.PI*2;m+=0.25){k.push([m,Math.cos(m)])}var l=[];for(var m=0;m<Math.PI*2;m+=0.1){l.push([m,Math.tan(m)])}$.plot($("#chart_1"),[{label:"sin(x)",data:j},{label:"cos(x)",data:k},{label:"tan(x)",data:l}],{series:{lines:{show:true},points:{show:true}},xaxis:{ticks:[0,[Math.PI/2,"\u03c0/2"],[Math.PI,"\u03c0"],[Math.PI*3/2,"3\u03c0/2"],[Math.PI*2,"2\u03c0"]]},yaxis:{ticks:10,min:-2,max:2},grid:{backgroundColor:{colors:["#fff","#eee"]}}})}function b(){function l(){return(Math.floor(Math.random()*(1+40-20)))+20}var i=[[1,l()],[2,l()],[3,2+l()],[4,3+l()],[5,5+l()],[6,10+l()],[7,15+l()],[8,20+l()],[9,25+l()],[10,30+l()],[11,35+l()],[12,25+l()],[13,15+l()],[14,20+l()],[15,45+l()],[16,50+l()],[17,65+l()],[18,70+l()],[19,85+l()],[20,80+l()],[21,75+l()],[22,80+l()],[23,75+l()],[24,70+l()],[25,65+l()],[26,75+l()],[27,80+l()],[28,85+l()],[29,90+l()],[30,95+l()]];var n=[[1,l()-5],[2,l()-5],[3,l()-5],[4,6+l()],[5,5+l()],[6,20+l()],[7,25+l()],[8,36+l()],[9,26+l()],[10,38+l()],[11,39+l()],[12,50+l()],[13,51+l()],[14,12+l()],[15,13+l()],[16,14+l()],[17,15+l()],[18,15+l()],[19,16+l()],[20,17+l()],[21,18+l()],[22,19+l()],[23,20+l()],[24,21+l()],[25,14+l()],[26,24+l()],[27,25+l()],[28,26+l()],[29,27+l()],[30,31+l()]];var j=$.plot($("#chart_2"),[{data:i,label:"Unique Visits"},{data:n,label:"Page Views"}],{series:{lines:{show:true,lineWidth:2,fill:true,fillColor:{colors:[{opacity:0.05},{opacity:0.01}]}},points:{show:true},shadowSize:2},grid:{hoverable:true,clickable:true,tickColor:"#eee",borderWidth:0},colors:["#d12610","#37b7f3","#52e136"],xaxis:{ticks:11,tickDecimals:0},yaxis:{ticks:11,tickDecimals:0}});function m(p,q,o){$('<div id="tooltip">'+o+"</div>").css({position:"absolute",display:"none",top:q+5,left:p+15,border:"1px solid #333",padding:"4px",color:"#fff","border-radius":"3px","background-color":"#333",opacity:0.8}).appendTo("body").fadeIn(200)}var k=null;$("#chart_2").bind("plothover",function(o,q,p){$("#x").text(q.x.toFixed(2));$("#y").text(q.y.toFixed(2));if(p){if(k!=p.dataIndex){k=p.dataIndex;$("#tooltip").remove();var r=p.datapoint[0].toFixed(2),s=p.datapoint[1].toFixed(2);m(p.pageX,p.pageY,p.series.label+" of "+r+" = "+s)}}else{$("#tooltip").remove();k=null}})}function c(){var n=[],j=[];for(var k=0;k<14;k+=0.1){n.push([k,Math.sin(k)]);j.push([k,Math.cos(k)])}plot=$.plot($("#chart_3"),[{data:n,label:"sin(x) = -0.00"},{data:j,label:"cos(x) = -0.00"}],{series:{lines:{show:true}},crosshair:{mode:"x"},grid:{hoverable:true,autoHighlight:false},yaxis:{min:-1.2,max:1.2}});var m=$("#chart_3 .legendLabel");m.each(function(){$(this).css("width",$(this).width())});var p=null;var l=null;function o(){p=null;var w=l;var q=plot.getAxes();if(w.x<q.xaxis.min||w.x>q.xaxis.max||w.y<q.yaxis.min||w.y>q.yaxis.max){return}var s,t,r=plot.getData();for(s=0;s<r.length;++s){var x=r[s];for(t=0;t<x.data.length;++t){if(x.data[t][0]>w.x){break}}var z,u=x.data[t-1],v=x.data[t];if(u==null){z=v[1]}else{if(v==null){z=u[1]}else{z=u[1]+(v[1]-u[1])*(w.x-u[0])/(v[0]-u[0])}}m.eq(s).text(x.label.replace(/=.*/,"= "+z.toFixed(2)))}}$("#chart_3").bind("plothover",function(i,r,q){l=r;if(!p){p=setTimeout(o,50)}})}function d(){var i={series:{shadowSize:1},lines:{show:true,lineWidth:0.5,fill:true,fillColor:{colors:[{opacity:0.1},{opacity:1}]}},yaxis:{min:0,max:100,tickFormatter:function(m){return m+"%"}},xaxis:{show:false},colors:["#6ef146"],grid:{tickColor:"#a8a3a3",borderWidth:0}};var l=30;var j=$.plot($("#chart_4"),[g()],i);function k(){j.setData([g()]);j.draw();setTimeout(k,l)}k()}function e(){var k=[];for(var n=0;n<=10;n+=1){k.push([n,parseInt(Math.random()*30)])}var l=[];for(var n=0;n<=10;n+=1){l.push([n,parseInt(Math.random()*30)])}var m=[];for(var n=0;n<=10;n+=1){m.push([n,parseInt(Math.random()*30)])}var q=0,j=true,o=false,r=false;function p(){$.plot($("#chart_5"),[k,l,m],{series:{stack:q,lines:{show:o,fill:true,steps:r},bars:{show:j,barWidth:0.6}}})}$(".stackControls input").click(function(i){i.preventDefault();q=$(this).val()=="With stacking"?true:null;p()});$(".graphControls input").click(function(i){i.preventDefault();j=$(this).val().indexOf("Bars")!=-1;o=$(this).val().indexOf("Lines")!=-1;r=$(this).val().indexOf("steps")!=-1;p()});p()}a();b();c();d();e()},initPieCharts:function(){var a=[];var e=Math.floor(Math.random()*10)+1;e=e<5?5:e;for(var b=0;b<e;b++){a[b]={label:"Series"+(b+1),data:Math.floor(Math.random()*100)+1}}$.plot($("#pie_chart"),a,{series:{pie:{show:true}}});$.plot($("#pie_chart_1"),a,{series:{pie:{show:true}},legend:{show:false}});$.plot($("#pie_chart_2"),a,{series:{pie:{show:true,radius:1,label:{show:true,radius:1,formatter:function(f,g){return'<div style="font-size:8pt;text-align:center;padding:2px;color:white;">'+f+"<br/>"+Math.round(g.percent)+"%</div>"},background:{opacity:0.8}}}},legend:{show:false}});$.plot($("#pie_chart_3"),a,{series:{pie:{show:true,radius:1,label:{show:true,radius:3/4,formatter:function(f,g){return'<div style="font-size:8pt;text-align:center;padding:2px;color:white;">'+f+"<br/>"+Math.round(g.percent)+"%</div>"},background:{opacity:0.5}}}},legend:{show:false}});$.plot($("#pie_chart_4"),a,{series:{pie:{show:true,radius:1,label:{show:true,radius:3/4,formatter:function(f,g){return'<div style="font-size:8pt;text-align:center;padding:2px;color:white;">'+f+"<br/>"+Math.round(g.percent)+"%</div>"},background:{opacity:0.5,color:"#000"}}}},legend:{show:false}});$.plot($("#pie_chart_5"),a,{series:{pie:{show:true,radius:3/4,label:{show:true,radius:3/4,formatter:function(f,g){return'<div style="font-size:8pt;text-align:center;padding:2px;color:white;">'+f+"<br/>"+Math.round(g.percent)+"%</div>"},background:{opacity:0.5,color:"#000"}}}},legend:{show:false}});$.plot($("#pie_chart_6"),a,{series:{pie:{show:true,radius:1,label:{show:true,radius:2/3,formatter:function(f,g){return'<div style="font-size:8pt;text-align:center;padding:2px;color:white;">'+f+"<br/>"+Math.round(g.percent)+"%</div>"},threshold:0.1}}},legend:{show:false}});$.plot($("#pie_chart_7"),a,{series:{pie:{show:true,combine:{color:"#999",threshold:0.1}}},legend:{show:false}});$.plot($("#pie_chart_8"),a,{series:{pie:{show:true,radius:300,label:{show:true,formatter:function(f,g){return'<div style="font-size:8pt;text-align:center;padding:2px;color:white;">'+f+"<br/>"+Math.round(g.percent)+"%</div>"},threshold:0.1}}},legend:{show:false}});$.plot($("#pie_chart_9"),a,{series:{pie:{show:true,radius:1,tilt:0.5,label:{show:true,radius:1,formatter:function(f,g){return'<div style="font-size:8pt;text-align:center;padding:2px;color:white;">'+f+"<br/>"+Math.round(g.percent)+"%</div>"},background:{opacity:0.8}},combine:{color:"#999",threshold:0.1}}},legend:{show:false}});$.plot($("#donut"),a,{series:{pie:{innerRadius:0.5,show:true}}});$.plot($("#interactive"),a,{series:{pie:{show:true}},grid:{hoverable:true,clickable:true}});$("#interactive").bind("plothover",d);$("#interactive").bind("plotclick",c);function d(f,h,g){if(!g){return}percent=parseFloat(g.series.percent).toFixed(2);$("#hover").html('<span style="font-weight: bold; color: '+g.series.color+'">'+g.series.label+" ("+percent+"%)</span>")}function c(f,h,g){if(!g){return}percent=parseFloat(g.series.percent).toFixed(2);alert(""+g.series.label+": "+percent+"%")}}}}();