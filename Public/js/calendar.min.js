var Calendar=function(){return{init:function(){App.addResponsiveHandler(function(){Calendar.initCalendar()});$(".page-sidebar .sidebar-toggler").click(function(){Calendar.initCalendar()});Calendar.initCalendar()},initCalendar:function(){if(!jQuery().fullCalendar){return}var c=new Date();var b=c.getDate();var g=c.getMonth();var i=c.getFullYear();var e={};if(App.isRTL()){if($("#calendar").parents(".portlet").width()<=720){$("#calendar").addClass("mobile");e={right:"title, prev, next",center:"",right:"agendaDay, agendaWeek, month, today"}}else{$("#calendar").removeClass("mobile");e={right:"title",center:"",left:"agendaDay, agendaWeek, month, today, prev,next"}}}else{if($("#calendar").parents(".portlet").width()<=720){$("#calendar").addClass("mobile");e={left:"title, prev, next",center:"",right:"today,month,agendaWeek,agendaDay"}}else{$("#calendar").removeClass("mobile");e={left:"title",center:"",right:"prev,next,today,month,agendaWeek,agendaDay"}}}var f=function(d){var h={title:$.trim(d.text())};d.data("eventObject",h);d.draggable({zIndex:999,revert:true,revertDuration:0})};var a=function(h){h=h.length==0?"Untitled Event":h;var d=$('<div class="external-event label">'+h+"</div>");jQuery("#event_box").append(d);f(d)};$("#external-events div.external-event").each(function(){f($(this))});$("#event_add").unbind("click").click(function(){var d=$("#event_title").val();a(d)});$("#event_box").html("");a("My Event 1");a("My Event 2");a("My Event 3");a("My Event 4");a("My Event 5");a("My Event 6");$("#calendar").fullCalendar("destroy");$("#calendar").fullCalendar({header:e,slotMinutes:15,editable:true,droppable:true,drop:function(j,d){var k=$(this).data("eventObject");var h=$.extend({},k);h.start=j;h.allDay=d;h.className=$(this).attr("data-class");$("#calendar").fullCalendar("renderEvent",h,true);if($("#drop-remove").is(":checked")){$(this).remove()}},events:[{title:"All Day Event",start:new Date(i,g,1),backgroundColor:App.getLayoutColorCode("yellow")},{title:"Long Event",start:new Date(i,g,b-5),end:new Date(i,g,b-2),backgroundColor:App.getLayoutColorCode("green")},{title:"Repeating Event",start:new Date(i,g,b-3,16,0),allDay:false,backgroundColor:App.getLayoutColorCode("red")},{title:"Repeating Event",start:new Date(i,g,b+4,16,0),allDay:false,backgroundColor:App.getLayoutColorCode("green")},{title:"Meeting",start:new Date(i,g,b,10,30),allDay:false,},{title:"Lunch",start:new Date(i,g,b,12,0),end:new Date(i,g,b,14,0),backgroundColor:App.getLayoutColorCode("grey"),allDay:false,},{title:"Birthday Party",start:new Date(i,g,b+1,19,0),end:new Date(i,g,b+1,22,30),backgroundColor:App.getLayoutColorCode("purple"),allDay:false,},{title:"Click for Google",start:new Date(i,g,28),end:new Date(i,g,29),backgroundColor:App.getLayoutColorCode("yellow"),url:"http://google.com/",}]})}}}();